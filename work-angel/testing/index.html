<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>PyScript Test</title>

        <!-- Below are the PyScript pyscript tags-->
        <link rel="stylesheet" href="bulma.css" />
        <script type="module" src="https://pyscript.net/releases/2025.3.1/core.js"></script>
        <!-- -->

    </head>
    <body>        
    
        <h1>PyScript Test Below!</h1>

        <!-- Below is the tag required to identify python code-->
        <!-- The tag below can be modified to load a local file instead. Check documentation. -->
        <!-- script type="py" config='{"packages":["numpy", "matplotlib"]}' target ="test" env="shared">
            ## <script type="py" config='{"packages":["numpy", "matplotlib"]}' terminal> ## this alternative tag shows a terminal on the webpage
        
            from pyscript import display
            import numpy as np
            import matplotlib.pyplot as plt
            
            x = np.sqrt(4)
            #x = 2 ** 2

            #y = input()

            z = np.linspace(0, 200, 50)
            t = np.linspace(0, 50)

            w = "www"

            fig1,ax1 = plt.subplots()
            ax1.plot(z, t)

            display(f'x is equal to {x}')
            #display(y)
            display(fig1)
            #plt.show() # this is the graph that appears under the page. It appears after where the terminal would be.
            #print(x) ## this only appears in a webpage terminal when it is enabled

        </script -->

        <script type="py" config='{"packages":["numpy", "matplotlib"]}'>
            import matplotlib.animation as animation
            import matplotlib.pyplot as plt
            import numpy as np

            fig, ax = plt.subplots()
            t = np.linspace(0, 3, 40)
            g = -9.81
            v0 = 12
            z = g * t**2 / 2 + v0 * t

            v02 = 5
            z2 = g * t**2 / 2 + v02 * t

            scat = ax.scatter(t[0], z[0], c="b", s=5, label=f'v0 = {v0} m/s')
            line2 = ax.plot(t[0], z2[0], label=f'v0 = {v02} m/s')[0]
            ax.set(xlim=[0, 3], ylim=[-4, 10], xlabel='Time [s]', ylabel='Z [m]')
            ax.legend()


            def update(frame):
                # for each frame, update the data stored on each artist.
                x = t[:frame]
                y = z[:frame]
                # update the scatter plot:
                data = np.stack([x, y]).T
                scat.set_offsets(data)
                # update the line plot:
                line2.set_xdata(t[:frame])
                line2.set_ydata(z2[:frame])
                return (scat, line2)


            ani = animation.FuncAnimation(fig=fig, func=update, frames=40, interval=30)
            plt.show()
            display(fig)
        </script>

        <!--script type="py-editor" target="editor">
            import sys
            from pyscript import display
            display(sys.version)
        </script -->
        <center><span style="color: chartreuse;"> Sample Editor</span></center>
        <div id="editor"></div>
                  
        <div id="test"></div>

    </body>
</html>